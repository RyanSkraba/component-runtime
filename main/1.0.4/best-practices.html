<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Talend Component Kit best practices :: Talend Component Kit Developer Reference Guide</title>
    <link rel="canonical" href="https://talend.github.io/component-runtime/main/1.0.4/best-practices.html">
    <meta name="generator" content="Antora 1.0.1">
    <link rel="stylesheet" href="../../_/css/site.css">
<meta name="date" content="2018-07-24T16:18:24.030Z" scheme="YYYY-MM-DDTHH:mm:ss.sssZ">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" integrity="sha256-NuCn4IvuZXdBaFKJOAcsU2Q3ZpwbdFisd5dux4jkQ5w=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/instantsearch.js/2.8.0/instantsearch.min.css" integrity="sha256-vusmcqkVvKdkwoueSJZLlO9y2P+Lp9fN3WwQUV9Uwfw=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/instantsearch.js/2.8.0/instantsearch-theme-algolia.min.css" integrity="sha256-ZqsS4QagZnfArbOyheCO4qVjzzsMbg/WMvf5tLtId/Q=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/idea.min.css" integrity="sha256-rD61BPsgKHzJPyg7vpXaYOw6tMYuY2fz1p9033NYeM8=" crossorigin="anonymous" />
<link rel="stylesheet" href="../../_/css/talend.css">
<link rel="shortcut icon" href="../../_/images/favicon_0.ico" />    <script async src="https://www.googletagmanager.com/gtag/js?id=GTM-PSBN"></script>
    <script>dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)};gtag('js',new Date());gtag('config','GTM-PSBN')</script>
  </head>
  <body class="article">
<header class="header" role="banner">
    <nav class="navbar">
        <div class="navbar-brand">
            <div class="navbar-item">
                <a href="https://talend.github.io/component-runtime">Talend Component Kit</a>
                <span class="separator">//</span>
                <a href="https://talend.github.io/component-runtime">Docs</a>
            </div>
            <button class="navbar-burger" data-target="topbar-nav">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
        <div id="topbar-nav" class="navbar-menu">
            <div class="navbar-end">
                <div class="global-search">
                    <form role="search" action="search.html">
                        <div>
                            <input class="rounded" type="text" placeholder="Search" name="query" id="searchInput">
                            <input type="hidden" name="idx" value="githubantora">
                        </div>
                    </form>
                </div>
                <div class="navbar-item has-dropdown is-hoverable">
                    <div class="navbar-link">Projects</div>
                    <div class="navbar-dropdown">
                        <div class="navbar-item"><strong>API</strong></div>
                        <a class="navbar-item" href="https://github.com/talend/component-api">Repository</a>
                        <hr class="navbar-divider">
                        <div class="navbar-item"><strong>Runtime</strong></div>
                        <a class="navbar-item" href="https://github.com/talend/component-runtime">Repository</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>
</header>
<div class="main-wrapper">
<div class="navigation-container" data-component="main" data-version="1.0.4">
  <aside class="navigation" role="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">Talend Component Kit Developer Reference Guide</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-toggle"></button>
    <span class="nav-text">Talend Component Kit Documentation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="index-getting-started-with-tck.html">Getting Started</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="what-is-a-talend-component.html">What is a Talend Component</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="methodology-creating-components.html">Methodology</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="tck-framework-overview.html">Framework Overview</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="index-setup-environment.html">Setting up your environment</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="system-prerequisites.html">System requirements</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="tutorial-talend-intellij-plugin-usage.html">IntelliJ plugin</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="index-generating-project.html">Generating a project</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="tutorial-generate-project-using-starter.html">Using the starter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="generate-project-using-intellij-plugin.html">Using the IntelliJ plugin</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="index-creating-components.html">Creating components</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="component-definition.html">Defining a component</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="component-configuration.html">Configuring a component</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="component-registering.html">Registering a component</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="component-internationalization.html">Internationalizing a component</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="component-loading.html">Loading a component</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="tutorial-configuration-sensitive-data.html">Masking sensitive data</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="best-practices.html">Best practices</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#">mapsub-build-tools.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="wrapping-a-beam-io.html">Wrapping a Beam I/O</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="index-defining-services.html">Defining services</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="services-internationalization.html">Internationalizing a service</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="services-actions.html">Providing actions through a service</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="services-built-in.html">Built-in services</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="services-interceptors.html">Services and interceptors</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="services-custom-api.html">Defining a custom API</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="index-testing-components.html">Testing components</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="testing-best-practices.html">Component testing best practices</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="index-sub-testing-runtime.html">Testing component runtime</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="testing-beam.html">Beam testing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="testing-multiple-envs.html">Testing in multiple environments</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="testing-maven-passwords.html">Reusing Maven credentials</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="testing-generating-data.html">Generating data for testing</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="services-pipeline.html">Simple/Test Pipeline API</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://beam.apache.org/documentation/programming-guide/#creating-a-pipeline">Beam Pipeline API</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="index-deploying-components.html">Deploying components</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="studio.html">Deploying to Talend Studio</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="index-tutorials.html">Tutorials</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="tutorial-generate-project-using-starter.html">Generating a project from the starter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="tutorial-create-an-input-component.html">Creating a Hazelcast input component</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="tutorial-create-an-output-component.html">Creating a Hazelcast output component</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="tutorial-create-components-rest-api.html">Creating a Zendesk REST API connector</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="tutorial-test-rest-api.html">Testing a Zendesk REST API connector</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="tutorial-test-your-components.html">Testing a Hazelcast component</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="tutorial-dev-vs-ci-setup.html">Testing in a continuous integration environment</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="index-reference-guide.html">Reference Guide</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="gallery.html">Widget and validation gallery</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ref-actions.html">Actions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ref-conditions.html">Conditions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ref-configuration-types.html">Configuration types</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ref-constraints.html">Constraints</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ref-junit-environments.html">Junit environments</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ref-proxy-server-api.html">Proxy server API</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ref-proxy-server-configuration.html">Proxy server configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ref-rest-resources.html">Component Runtime REST resources</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ref-scanning-exclusions.html">Scanning exclusions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ref-server-configuration.html">Server configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ref-ui.html">UI API</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="apidocs.html">Javadocs</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="index-knowledge-base.html">Knowledge base</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="changelog.html">Changelog</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">Talend Component Kit Developer Reference Guide</span>
    <span class="version">1.0.4</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Talend Component Kit Developer Reference Guide</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">1.0.4</a>
        </li>
        <li class="version">
          <a href="../1.0.3/index.html">1.0.3</a>
        </li>
        <li class="version">
          <a href="../1.0.2/index.html">1.0.2</a>
        </li>
        <li class="version">
          <a href="../1.0.1/index.html">1.0.1</a>
        </li>
        <li class="version">
          <a href="../1.0.0/index.html">1.0.0</a>
        </li>
        <li class="version">
          <a href="../0.0.12/index.html">0.0.12</a>
        </li>
        <li class="version">
          <a href="../0.0.11/index.html">0.0.11</a>
        </li>
        <li class="version">
          <a href="../0.0.10/index.html">0.0.10</a>
        </li>
        <li class="version">
          <a href="../0.0.9/index.html">0.0.9</a>
        </li>
        <li class="version">
          <a href="../0.0.8/index.html">0.0.8</a>
        </li>
        <li class="version">
          <a href="../0.0.7/index.html">0.0.7</a>
        </li>
        <li class="version">
          <a href="../0.0.6/index.html">0.0.6</a>
        </li>
        <li class="version">
          <a href="../0.0.5/index.html">0.0.5</a>
        </li>
        <li class="version">
          <a href="../0.0.4/index.html">0.0.4</a>
        </li>
        <li class="version">
          <a href="../0.0.3/index.html">0.0.3</a>
        </li>
        <li class="version">
          <a href="../0.0.2/index.html">0.0.2</a>
        </li>
        <li class="version">
          <a href="../0.0.1/index.html">0.0.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main" role="main">
<div class="toolbar" role="navigation">
    <button class="navigation-toggle"></button>
    <nav class="crumbs" role="navigation" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="index.html">Talend Component Kit Developer Reference Guide</a></li>
    <li class="crumb">Talend Component Kit Documentation</li>
    <li class="crumb"><a href="index-creating-components.html">Creating components</a></li>
    <li class="crumb"><a href="best-practices.html">Best practices</a></li>
  </ul>
</nav>
    <div class="page-versions">
  <button class="versions-menu-toggle" title="Show other versions of page">1.0.4</button>
  <div class="versions-menu">
    <a class="version is-current" href="best-practices.html">1.0.4</a>
    <a class="version" href="../1.0.3/best-practices.html">1.0.3</a>
    <a class="version" href="../1.0.2/best-practices.html">1.0.2</a>
    <a class="version" href="../1.0.1/best-practices.html">1.0.1</a>
    <a class="version" href="../1.0.0/best-practices.html">1.0.0</a>
    <a class="version" href="../0.0.12/best-practices.html">0.0.12</a>
    <a class="version" href="../0.0.11/best-practices.html">0.0.11</a>
    <a class="version" href="../0.0.10/best-practices.html">0.0.10</a>
    <a class="version" href="../0.0.9/best-practices.html">0.0.9</a>
    <a class="version" href="../0.0.8/best-practices.html">0.0.8</a>
    <a class="version" href="../0.0.7/best-practices.html">0.0.7</a>
    <a class="version" href="../0.0.6/best-practices.html">0.0.6</a>
    <a class="version" href="../0.0.5/best-practices.html">0.0.5</a>
    <a class="version" href="../0.0.4/best-practices.html">0.0.4</a>
    <a class="version" href="../0.0.3/best-practices.html">0.0.3</a>
    <a class="version" href="../0.0.2/best-practices.html">0.0.2</a>
    <a class="version" href="../0.0.1/best-practices.html">0.0.1</a>
  </div>
</div>
</div>
<article class="doc">
        <h1>Talend Component Kit best practices</h1>
        <div class="sect1">
<h2 id="_organizing_your_code"><a class="anchor" href="#_organizing_your_code"></a>Organizing your code</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Some recommendations apply to the way component packages are organized:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Make sure to create a <code>package-info.java file</code> with the component family/categories at the root of your component package:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Components(family = "jdbc", categories = "Database")
package org.talend.sdk.component.jdbc;

import org.talend.sdk.component.api.component.Components;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Create a package for the configuration.</p>
</li>
<li>
<p>Create a package for the actions.</p>
</li>
<li>
<p>Create a package for the component and one sub-package by type of component (input, output, processors, and so on).</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuring_components"><a class="anchor" href="#_configuring_components"></a>Configuring components</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_serializing_your_configuration"><a class="anchor" href="#_serializing_your_configuration"></a>Serializing your configuration</h3>
<div class="paragraph">
<p>It is recommended to serialize your configuration in order to be able to pass it through other components.</p>
</div>
</div>
<div class="sect2">
<h3 id="_input_and_output_components"><a class="anchor" href="#_input_and_output_components"></a>Input and output components</h3>
<div class="paragraph">
<p>When building a new component, the first step is to identify the way it must be configured.</p>
</div>
<div class="paragraph">
<p>The two main concepts are:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The <em>DataStore</em> which is the way you can access the backend.</p>
</li>
<li>
<p>The <em>DataSet</em> which is the way you interact with the backend.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<table class="tableblock frame-all grid-all">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Example description</th>
<th class="tableblock halign-left valign-top">DataStore</th>
<th class="tableblock halign-left valign-top">DataSet</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Accessing a relational database like MySQL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JDBC driver, URL, username, password</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query to execute, row mapper, and so on.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Accessing a file system</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File pattern (or directory + file extension/prefix/&#8230;&#8203;)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File format, buffer size, and so on.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>It is common to have the dataset including the datastore, because both are required to work. However, it is recommended to replace this pattern by defining both dataset and datastore in a higher level configuration model. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@DataSet
public class MyDataSet {
    // ...
}

@DataStore
public class MyDataStore {
    // ...
}


public class MyComponentConfiguration {
    @Option
    private MyDataSet dataset;

    @Option
    private MyDataStore datastore;
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_about_actions"><a class="anchor" href="#_about_actions"></a>About actions</h4>
<div class="paragraph">
<p>Input and output components are particular because they can be linked to a set of actions. It is recommended to wire all the actions you can apply to ensure the consumers of your component can provide a rich experience to their users.</p>
</div>
<div class="paragraph">
<p>The most common actions are the following ones:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 12.5%;">
<col style="width: 37.5%;">
<col style="width: 37.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Action</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Configuration example</th>
<th class="tableblock halign-left valign-top">Action example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DataStore</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Checkable</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exposes a way to ensure the datastore/connection works</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@DataStore
@Checkable
public class JdbcDataStore
  implements Serializable {

  @Option
  private String driver;

  @Option
  private String url;

  @Option
  private String username;

  @Option
  private String password;
}</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@HealthCheck
public HealthCheckStatus healthCheck(@Option("datastore") JdbcDataStore datastore) {
    if (!doTest(dataStore)) {
        // often add an exception message mapping or equivalent
        return new HealthCheckStatus(Status.KO, "Test failed");
    }
    return new HealthCheckStatus(Status.KO, e.getMessage());
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_limitations"><a class="anchor" href="#_limitations"></a>Limitations</h4>
<div class="paragraph">
<p>Until the studio integration is complete, it is recommended to limit processors to one input.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_processor_components"><a class="anchor" href="#_processor_components"></a>Processor components</h3>
<div class="paragraph">
<p>Configuring processor components is simpler than configuring input and output components because it is specific for each component. For example, a mapper takes the mapping between the input and output models:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class MappingConfiguration {
    @Option
    private Map&lt;String, String&gt; fieldsMapping;

    @Option
    private boolean ignoreCase;

    //...
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_handling_ui_interactions"><a class="anchor" href="#_handling_ui_interactions"></a>Handling UI interactions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is recommended to provide as much information as possible to let the UI work with the data during its edition.</p>
</div>
<div class="sect2">
<h3 id="_validations"><a class="anchor" href="#_validations"></a>Validations</h3>
<div class="sect3">
<h4 id="_light_validations"><a class="anchor" href="#_light_validations"></a>Light validations</h4>
<div class="paragraph">
<p>Light validations are all the validations you can execute on the client side. They are listed in the <a href="component-configuration.html#documentation-ui-hints" class="page">UI hint</a> section.</p>
</div>
<div class="paragraph">
<p>Use light validations first before going with custom validations because they are more efficient.</p>
</div>
</div>
<div class="sect3">
<h4 id="_custom_validations"><a class="anchor" href="#_custom_validations"></a>Custom validations</h4>
<div class="paragraph">
<p>Custom validations enforce custom code to be executed, they are more heavy to process, so prefer using light validations when possible.</p>
</div>
<div class="paragraph">
<p>Define an action with the parameters needed for the validation and link the option you want to validate to this action.
For example, to validate a dataset for a JDBC driver:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// ...
public class JdbcDataStore
  implements Serializable {

  @Option
  @Validable("driver")
  private String driver;

  // ...
}

@AsyncValidation("driver")
public ValidationResult validateDriver(@Option("value") String driver) {
  if (findDriver(driver) != null) {
    return new ValidationResult(Status.OK, "Driver found");
  }
  return new ValidationResult(Status.KO, "Driver not found");
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also define a Validable class and use it to validate a form by setting it on your whole configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// Note: some parts of the API were removed for clarity

public class MyConfiguration {

  // a lot of @Options
}

public MyComponent {
    public MyComponent(@Validable("configuration") MyConfiguration config) {
        // ...
    }

    //...
}

@AsyncValidation("configuration")
public ValidationResult validateDriver(@Option("value") MyConfiguration configuration) {
  if (isValid(configuration)) {
    return new ValidationResult(Status.OK, "Configuration valid");
  }
  return new ValidationResult(Status.KO, "Driver not valid ${because ...}");
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The parameter binding of the validation method uses the same logic as the component configuration injection. Therefore, the <code>@Option</code> method specifies the prefix to use to reference a parameter.<br>
It is recommended to use <code>@Option("value")</code> until you know exactly why you don&#8217;t use it. This way, the consumer can match the configuration model and just prefix it with <code>value.</code> to send the instance to validate.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_completion"><a class="anchor" href="#_completion"></a>Completion</h3>
<div class="paragraph">
<p>It can be handy and user-friendly to provide completion on some fields.
For example, to define completion for available drivers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// ...
public class JdbcDataStore
  implements Serializable {

  @Option
  @Completable("driver")
  private String driver;

  // ...
}

@Completion("driver")
public CompletionList findDrivers() {
    return new CompletionList(findDriverList());
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_component_representation"><a class="anchor" href="#_component_representation"></a>Component representation</h3>
<div class="paragraph">
<p>Each component must have its own icon:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Icon(Icon.IconType.DB_INPUT)
@PartitionMapper(family = "jdbc", name = "input")
public class JdbcPartitionMapper
    implements Serializable {
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can use <a href="http://talend.surge.sh/icons/" class="bare">talend.surge.sh/icons/</a> to find the icon you want to use.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_enforcing_versioning_on_components"><a class="anchor" href="#_enforcing_versioning_on_components"></a>Enforcing versioning on components</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is recommended to enforce the version of your component, event though it is not mandatory for the first version.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Version(1)
@PartitionMapper(family = "jdbc", name = "input")
public class JdbcPartitionMapper
    implements Serializable {
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you break a configuration entry in a later version;  make sure to:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Upgrade the version.</p>
</li>
<li>
<p>Support a migration of the configuration.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Version(value = 2, migrationHandler = JdbcPartitionMapper.Migrations.class)
@PartitionMapper(family = "jdbc", name = "input")
public class JdbcPartitionMapper
    implements Serializable {

    public static class Migrations implements MigrationHandler {
        // implement your migration
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_testing_components"><a class="anchor" href="#_testing_components"></a>Testing components</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Testing your components is critical. You can use unit and simple standalone JUnit tests, but it is also highly recommended to have Beam tests in order to make sure that your component works in Big Data.</p>
</div>
</div>
</div>
<div class="sect1 relatedlinks">
<h2 id="_related_articles"><a class="anchor" href="#_related_articles"></a>Related articles</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="tutorial-generate-project-using-starter.html" class="page">Generating a project using the starter</a></p>
</li>
<li>
<p><a href="component-definition.html" class="page">Defining a component</a></p>
</li>
<li>
<p><a href="component-configuration.html" class="page">Configuring a component</a></p>
</li>
<li>
<p><a href="component-registering.html" class="page">Registering a component</a></p>
</li>
<li>
<p><a href="component-internationalization.html" class="page">Internationalizing a component</a></p>
</li>
<li>
<p><a href="component-loading.html" class="page">Loading a component</a></p>
</li>
<li>
<p><a href="tutorial-configuration-sensitive-data.html" class="page">Masking sensitive data</a></p>
</li>
<li>
<p><a href="index-defining-services.html" class="page">Defining services</a></p>
</li>
<li>
<p><a href="index-testing-components.html" class="page">Testing components</a></p>
</li>
</ul>
</div>
</div>
</div>
    </article>
  </main>
</div>
<footer class="footer">
    <div class="footer-with-copyright footer-with-links">
        <ul class="footer-links" style="">
            <li><a class="gwt-Anchor" href="http://www.talend.com/">Talend</a></li>
            <li><a class="gwt-Anchor" href="http://www.talend.com/contact">Contact</a></li>
            <li><a class="gwt-Anchor" href="http://www.talend.com/legal-terms/us-eula">Talend EULA</a></li>
        </ul>
        <div class="footer-copyright" style="">&copy; 2018 Talend Inc. All rights reserved.</div>
    </div>
</footer>
<script src="../../_/js/site.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
<script>
(function (window, document) {
  hljs.initHighlighting();

  var closedSize = '50px';
  document.querySelectorAll('.listingblock')
    .forEach(function (listingblock, index) {
      var pre = listingblock.querySelector('div.content > pre.highlightjs.highlight');
      if (!pre) {return;}
      var code = pre.querySelector('code.hljs');
      if (!code) {return;}

      var span = document.createElement('span');
      var initialBlockClosed = listingblock.className.indexOf('initial-block-closed') >= 0;
      span.className = 'code-' + (initialBlockClosed ? 'collapsed' : 'open') + '-handle code-handle-base';

      var height = code.style.height;
      if (initialBlockClosed) {code.style.height = closedSize;}

      span.addEventListener('click', function () {
        if (span.className == 'code-collapsed-handle code-handle-base') {
          code.style.height = height;
          span.className = 'code-open-handle code-handle-base';
        } else {
          code.style.height = closedSize;
          span.className = 'code-collapsed-handle code-handle-base';
        }
      }, false);

      pre.prepend(span);
    });
})(window, document);
</script>
  </body>
</html>
