
<!DOCTYPE html>

<html lang="en">
  <head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=GTM-PSBN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){ dataLayer.push(arguments); }
      gtag('js', new Date());
      gtag('config', 'GTM-PSBN');
    </script>
    <script async type="text/javascript" src="https://cse.google.com/cse.js?cx=005944347463368867332:ghrpamlmyqy"></script>

    <meta charset="utf-8">
    <title>Talend Component Documentation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="date" content="2018-02-02 14:19:27" scheme="YYYY-MM-dd HH:mm:ss">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link rel="stylesheet" href="css/bootstrap.css" media="screen">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.0/css/font-awesome.min.css" integrity="sha256-MUe1D3T3ocGLZQ2h8wgpcIz5BoTu1OZo8q0BjK5u/o0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.0/gh-fork-ribbon.min.css" />
    <!--[if lt IE 9]>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.0/gh-fork-ribbon.ie.min.css" />
    <![endif]-->
    <link rel="stylesheet" href="css/documentation.css">
    <link rel="shortcut icon" href="images/favicon_0.ico" />
    <style>
    body{padding-top:50px}body>.navbar{-webkit-transition:background-color .3s ease-in;transition:background-color .3s ease-in}@media (min-width:768px){body>.navbar-transparent{background-color:transparent}body>.navbar-transparent .navbar-nav>.open>a{background-color:transparent!important}}#home{padding-top:0}#home .navbar-brand{padding:13.5px 15px 12.5px}#home .navbar-brand>img{display:inline;margin:0 10px;height:100%}#banner{min-height:300px;border-bottom:none}.table-of-contents{margin-top:1em}.page-header h1{font-size:4em}.bs-docs-section{margin-top:6em}.bs-docs-section h1{padding-top:100px}.bs-component{position:relative}.bs-component .modal{position:relative;top:auto;right:auto;left:auto;bottom:auto;z-index:1;display:block}.bs-component .modal-dialog{width:90%}.bs-component .popover{position:relative;display:inline-block;width:220px;margin:20px}#source-button{position:absolute;top:0;right:0;z-index:100;font-weight:700}.progress{margin-bottom:10px}footer{margin:5em 0}footer li{float:left;margin-right:1.5em;margin-bottom:1.5em}footer p{clear:left;margin-bottom:0}.splash{padding:9em 0 2em;background-color:#141d27;background-image:url(../img/bg.jpg);background-size:cover;background-attachment:fixed;color:#fff;text-align:center}.splash .logo{width:160px}.splash h1{font-size:3em}.splash #social{margin:2em 0}.splash .alert{margin:2em 0}.section-tout{padding:4em 0 3em;border-bottom:1px solid rgba(0,0,0,.05);background-color:#eaf1f1}.section-tout .fa{margin-right:.5em}.section-tout p{margin-bottom:3em}.section-preview{padding:4em 0 4em}.section-preview .preview{margin-bottom:4em;background-color:#eaf1f1}.section-preview .preview .image{position:relative}.section-preview .preview .image:before{box-shadow:inset 0 0 0 1px rgba(0,0,0,.1);position:absolute;top:0;left:0;width:100%;height:100%;content:"";pointer-events:none}.section-preview .preview .options{padding:1em 2em 2em;border:1px solid rgba(0,0,0,.05);border-top:none;text-align:center}.section-preview .preview .options p{margin-bottom:2em}.section-preview .dropdown-menu{text-align:left}.section-preview .lead{margin-bottom:2em}@media (max-width:767px){.section-preview .image img{width:100%}}.sponsor #carbonads{max-width:240px;margin:0 auto}.sponsor .carbon-text{display:block;margin-top:1em;font-size:12px}.sponsor .carbon-poweredby{float:right;margin-top:1em;font-size:10px}@media (max-width:767px){.splash{padding-top:4em}.splash .logo{width:100px}.splash h1{font-size:2em}#banner{margin-bottom:2em;text-align:center}}
    </style>
  </head>
  <body>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PSBN"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

    <a class="github-fork-ribbon" target="_blank"
        href="https://github.com/talend/component-runtime" data-ribbon="Fork me on GitHub"
        title="Fork me on GitHub">Fork me on GitHub</a>
    <div class="col-sm-offset-1 col-sm-10">

	
<div class="navbar navbar-inverse navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <a href="/component-runtime/index.html" class="navbar-brand">Component Kit</a>
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-main">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <div class="navbar-collapse collapse" id="navbar-main">
      <ul class="nav navbar-nav">
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="entries">Documentation <span class="caret"></span></a>
          <ul class="dropdown-menu" aria-labelledby="entries">
            <li><a href="/component-runtime/index.html">Home</a></li>
            <li><a href="documentation-overview.html">Overview</a></li>
            <li><a href="getting-started.html">Getting Started</a></li>
            <li><a href="documentation.html">Reference</a></li>
            <li><a href="best-practices.html">Best Practices</a></li>
            <li><a href="documentation-testing.html">Testing</a></li>
            <li><a href="documentation-rest.html">REST API</a></li>
            <li><a href="wrapping-a-beam-io.html">How to wrap a Beam I/O</a></li>
            <li><a href="studio.html">Studio Integration</a></li>
            <li><a href="changelog.html">Changelog</a></li>
            <li><a href="contributors.html">Wall of Fame</a></li>
            <li><a href="apidocs.html">API Documentation</a></li>
            <li><a href="appendix.html">Appendix</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="versions">Versions <span class="caret"></span></a>
          <ul class="dropdown-menu" aria-labelledby="versions">
            <li><a href="/component-runtime/index.html">Current</a></li>
            <li><a href="/component-runtime/latest/index.html">Latest</a></li>
            
          </ul>
        </li>
      </ul>
      <div class="navbar-collapse collapse">
        <form class="navbar-form navbar-right" role="search" action="search.html">
          <div class="form-group">
            <input type="text" class="form-control" placeholder="Search" name="q">
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>


    <div class="container section-padded">
        <div class="row title">
            <div class='page-header'>
              <h2>Talend Component Best Practices</h2>
            </div>
        </div>
        <div class="row">
            
            <div class="col-md-12">
                <div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_organize_your_code">1. Organize your code</a></li>
<li><a href="#_modelize_your_configuration">2. Modelize your configuration</a></li>
<li><a href="#_i_o_configuration">3. I/O configuration</a></li>
<li><a href="#_processor_configuration">4. Processor configuration</a></li>
<li><a href="#_i_o_recommandations">5. I/O recommandations</a></li>
<li><a href="#_i_o_limitations">6. I/O limitations</a></li>
<li><a href="#_handle_ui_interactions">7. Handle UI interactions</a>
<ul class="sectlevel2">
<li><a href="#_validations">7.1. Validations</a></li>
<li><a href="#_completion">7.2. Completion</a></li>
<li><a href="#_don_t_forget_the_component_representation">7.3. Don&#8217;t forget the component representation</a></li>
</ul>
</li>
<li><a href="#_version_and_component">8. Version and component</a></li>
<li><a href="#_don_t_forget_to_test">9. Don&#8217;t forget to test</a></li>
<li><a href="#_contribute_to_this_guide">10. Contribute to this guide</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="_organize_your_code">1. Organize your code</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Few recommandations apply to the way a component packages are organized:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>ensure to create a <code>package-info.java</code> with the component family/categories at the root of your component package:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@Components</span>(family = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">jdbc</span><span style="color:#710">&quot;</span></span>, categories = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Database</span><span style="color:#710">&quot;</span></span>)
<span style="color:#080;font-weight:bold">package</span> <span style="color:#707;font-weight:bold">org.talend.sdk.component.jdbc</span>;

<span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">org.talend.sdk.component.api.component.Components</span>;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>create a package for the configuration</p>
</li>
<li>
<p>create a package for the actions</p>
</li>
<li>
<p>create a package for the component and one subpackage by type of component (input, output, processors, &#8230;&#8203;)</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_modelize_your_configuration">2. Modelize your configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is recommanded to ensure your configuration is serializable since
it is likely you will pass it through your components which can be serialized.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_i_o_configuration">3. I/O configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The first step to build a component is to identify the way it must be configured.</p>
</div>
<div class="paragraph">
<p>It is generally split into two main big concepts:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>the <em>DataStore</em> which is the way you can access the backend</p>
</li>
<li>
<p>the <em>DataSet</em> which is the way you interact with the backend</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Here are some examples to let you get an idea of what you put in each categories:</p>
</div>
<table class="tableblock frame-all grid-all">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Example description</th>
<th class="tableblock halign-left valign-top">DataStore</th>
<th class="tableblock halign-left valign-top">DataSet</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Accessing a relational database like MySQL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the JDBC driver, url, username and password</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the query to execute, row mapper, &#8230;&#8203;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access a file system</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the file pattern (or directory + file extension/prefix/&#8230;&#8203;)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the file format, potentially the buffer size, &#8230;&#8203;</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>It is common to make the dataset including the datastore since both are required to work. However it is recommanded to replace
this pattern by composing both in a higher level configuration model:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@DataSet</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">MyDataSet</span> {
    <span style="color:#777">// ...</span>
}

<span style="color:#007">@DataStore</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">MyDataStore</span> {
    <span style="color:#777">// ...</span>
}


<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">MyComponentConfiguration</span> {
    <span style="color:#007">@Option</span>
    <span style="color:#088;font-weight:bold">private</span> MyDataSet dataset;

    <span style="color:#007">@Option</span>
    <span style="color:#088;font-weight:bold">private</span> MyDataStore datastore;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_processor_configuration">4. Processor configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Processor configuration is simpler than I/O configuration since it is specific each time. For instance a mapper
will take the mapping between the input and output model:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">MappingConfiguration</span> {
    <span style="color:#007">@Option</span>
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">Map</span>&lt;<span style="color:#0a8;font-weight:bold">String</span>, <span style="color:#0a8;font-weight:bold">String</span>&gt; fieldsMapping;

    <span style="color:#007">@Option</span>
    <span style="color:#088;font-weight:bold">private</span> <span style="color:#339;font-weight:bold">boolean</span> ignoreCase;

    <span style="color:#777">//...</span>
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_i_o_recommandations">5. I/O recommandations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I/O are particular because they can be linked to a set of actions. It is recommanded to wire all the ones you can apply
to ensure the consumers of your component can provide a rich experience to their users.</p>
</div>
<div class="paragraph">
<p>Here are the most common ones:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 12.5%;">
<col style="width: 37.5%;">
<col style="width: 37.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Action</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Configuration example</th>
<th class="tableblock halign-left valign-top">Action example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DataStore</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Checkable</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expose a way to ensure the datastore/connection works</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@DataStore</span>
<span style="color:#007">@Checkable</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">JdbcDataStore</span>
  <span style="color:#088;font-weight:bold">implements</span> <span style="color:#0a8;font-weight:bold">Serializable</span> {

  <span style="color:#007">@Option</span>
  <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span> driver;

  <span style="color:#007">@Option</span>
  <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span> url;

  <span style="color:#007">@Option</span>
  <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span> username;

  <span style="color:#007">@Option</span>
  <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span> password;
}</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@HealthCheck</span>
<span style="color:#088;font-weight:bold">public</span> HealthCheckStatus healthCheck(<span style="color:#007">@Option</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">datastore</span><span style="color:#710">&quot;</span></span>) JdbcDataStore datastore) {
    <span style="color:#080;font-weight:bold">if</span> (!doTest(dataStore)) {
        <span style="color:#777">// often add an exception message mapping or equivalent</span>
        <span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">new</span> HealthCheckStatus(Status.KO, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Test failed</span><span style="color:#710">&quot;</span></span>);
    }
    <span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">new</span> HealthCheckStatus(Status.KO, e.getMessage());
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_i_o_limitations">6. I/O limitations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Until the studio integration is complete, it is recommanded to limit processors to 1 input.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_handle_ui_interactions">7. Handle UI interactions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is also recommanded to provide as much information as possible to let the UI work with the data during its edition.</p>
</div>
<div class="sect2">
<h3 id="_validations">7.1. Validations</h3>
<div class="sect3">
<h4 id="_light_validations">7.1.1. Light validations</h4>
<div class="paragraph">
<p>The light validations are all the validations you can execute on the client side. They are listed in the <a href="documentation.html#documentation-ui-hints">UI hint</a> part.</p>
</div>
<div class="paragraph">
<p>This is the ones to use first before going with custom validations since they will be more efficient.</p>
</div>
</div>
<div class="sect3">
<h4 id="_custom_validations">7.1.2. Custom validations</h4>
<div class="paragraph">
<p>These ones will enforce custom code to be executed, they are more heavy so try to avoid to use them for simple validations
you can do with the previous part.</p>
</div>
<div class="paragraph">
<p>Here you define an action taking some parameters needed for the validation and you link the option you want to validate to this action.
Here is an example to validate a dataset. For example for our JDBC driver we could have:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#777">// ...</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">JdbcDataStore</span>
  <span style="color:#088;font-weight:bold">implements</span> <span style="color:#0a8;font-weight:bold">Serializable</span> {

  <span style="color:#007">@Option</span>
  <span style="color:#007">@Validable</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">driver</span><span style="color:#710">&quot;</span></span>)
  <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span> driver;

  <span style="color:#777">// ...</span>
}

<span style="color:#007">@AsyncValidation</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">driver</span><span style="color:#710">&quot;</span></span>)
<span style="color:#088;font-weight:bold">public</span> ValidationResult validateDriver(<span style="color:#007">@Option</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">value</span><span style="color:#710">&quot;</span></span>) <span style="color:#0a8;font-weight:bold">String</span> driver) {
  <span style="color:#080;font-weight:bold">if</span> (findDriver(driver) != <span style="color:#069">null</span>) {
    <span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">new</span> ValidationResult(Status.OK, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Driver found</span><span style="color:#710">&quot;</span></span>);
  }
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">new</span> ValidationResult(Status.KO, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Driver not found</span><span style="color:#710">&quot;</span></span>);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that you can also make a class validable and you can use it to validate a form if you put it on your whole configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#777">// note: some part of the API were removed for brievity</span>

<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">MyConfiguration</span> {

  <span style="color:#777">// a lot of @Options</span>
}

<span style="color:#088;font-weight:bold">public</span> MyComponent {
    <span style="color:#088;font-weight:bold">public</span> MyComponent(<span style="color:#007">@Validable</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">configuration</span><span style="color:#710">&quot;</span></span>) MyConfiguration config) {
        <span style="color:#777">// ...</span>
    }

    <span style="color:#777">//...</span>
}

<span style="color:#007">@AsyncValidation</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">configuration</span><span style="color:#710">&quot;</span></span>)
<span style="color:#088;font-weight:bold">public</span> ValidationResult validateDriver(<span style="color:#007">@Option</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">value</span><span style="color:#710">&quot;</span></span>) MyConfiguration configuration) {
  <span style="color:#080;font-weight:bold">if</span> (isValid(configuration)) {
    <span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">new</span> ValidationResult(Status.OK, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Configuration valid</span><span style="color:#710">&quot;</span></span>);
  }
  <span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">new</span> ValidationResult(Status.KO, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Driver not valid ${because ...}</span><span style="color:#710">&quot;</span></span>);
}</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
the parameter binding of the validation method uses the same logic than the component configuration
injection. Therefore the <code>@Option</code> specifies the prefix to use to reference a parameter. It is recommanded to
use <code>@Option("value")</code> until you know exactly why you don&#8217;t use it. This way the consumer can match the configuration
model and just prefix it with <code>value.</code> to send the instance to validate.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_completion">7.2. Completion</h3>
<div class="paragraph">
<p>It can be neat and user friendly to provide completion on some fields. Here an example for the available drivers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#777">// ...</span>
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">JdbcDataStore</span>
  <span style="color:#088;font-weight:bold">implements</span> <span style="color:#0a8;font-weight:bold">Serializable</span> {

  <span style="color:#007">@Option</span>
  <span style="color:#007">@Completable</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">driver</span><span style="color:#710">&quot;</span></span>)
  <span style="color:#088;font-weight:bold">private</span> <span style="color:#0a8;font-weight:bold">String</span> driver;

  <span style="color:#777">// ...</span>
}

<span style="color:#007">@Completion</span>(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">driver</span><span style="color:#710">&quot;</span></span>)
<span style="color:#088;font-weight:bold">public</span> CompletionList findDrivers() {
    <span style="color:#080;font-weight:bold">return</span> <span style="color:#080;font-weight:bold">new</span> CompletionList(findDriverList());
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_don_t_forget_the_component_representation">7.3. Don&#8217;t forget the component representation</h3>
<div class="paragraph">
<p>Each component must have its own icon:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@Icon</span>(<span style="color:#0a8;font-weight:bold">Icon</span>.IconType.DB_INPUT)
<span style="color:#007">@PartitionMapper</span>(family = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">jdbc</span><span style="color:#710">&quot;</span></span>, name = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">input</span><span style="color:#710">&quot;</span></span>)
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">JdbcPartitionMapper</span>
    <span style="color:#088;font-weight:bold">implements</span> <span style="color:#0a8;font-weight:bold">Serializable</span> {
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
you can use <a href="http://talend.surge.sh/icons/" class="bare">talend.surge.sh/icons/</a> to identify the one you want to use.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_version_and_component">8. Version and component</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Not mandatory for the first version but recommanded: enforce the version of your component.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@Version</span>(<span style="color:#00D">1</span>)
<span style="color:#007">@PartitionMapper</span>(family = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">jdbc</span><span style="color:#710">&quot;</span></span>, name = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">input</span><span style="color:#710">&quot;</span></span>)
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">JdbcPartitionMapper</span>
    <span style="color:#088;font-weight:bold">implements</span> <span style="color:#0a8;font-weight:bold">Serializable</span> {
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you break a configuration entry in a later version ensure to:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>upgrade the version</p>
</li>
<li>
<p>support a migration of the configuration</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span style="color:#007">@Version</span>(value = <span style="color:#00D">2</span>, migrationHandler = JdbcPartitionMapper.Migrations.class)
<span style="color:#007">@PartitionMapper</span>(family = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">jdbc</span><span style="color:#710">&quot;</span></span>, name = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">input</span><span style="color:#710">&quot;</span></span>)
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">JdbcPartitionMapper</span>
    <span style="color:#088;font-weight:bold">implements</span> <span style="color:#0a8;font-weight:bold">Serializable</span> {

    <span style="color:#088;font-weight:bold">public</span> <span style="color:#088;font-weight:bold">static</span> <span style="color:#339;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">Migrations</span> <span style="color:#088;font-weight:bold">implements</span> MigrationHandler {
        <span style="color:#777">// implement your migration</span>
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_don_t_forget_to_test">9. Don&#8217;t forget to test</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Testing the components is crucial, you can use unit tests and simple standalone JUnit but it is highly recommanded
to have a few Beam tests to ensure your component works in Big Data world.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_contribute_to_this_guide">10. Contribute to this guide</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Don&#8217;t hesitate to send your feedback on writing component and best practices you can encounter.</p>
</div>
</div>
</div>
            </div>
            
        </div>
    </div>


    <footer>
        <div class="row">
          <div class="col-lg-12">

            <ul class="list-unstyled">
              <li class="pull-right"><a href="#top">Back to top</a></li>
            </ul>
          </div>
        </div>
    </footer>
    </div>

    <script src="js/jquery-1.10.2.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/bootstrap.js"></script>
  </body>
</html>

